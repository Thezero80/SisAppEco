<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">App Reporte de Abuso v1.0 | CCFF-ECONOMIA</title>
    <link rel="icon" href="img/logo1.jpg" type="image/x-icon"> <!-- Ruta al favicon -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/form.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent w-100" id="header-navbar">
        <div class="container-fluid">
            <a class="navbar-brand font-weight-bold" href="#"><img src="img/logo1.jpg" alt="" class="img-fluid"
                    style="max-height: 50px;"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link text-uppercase" href="index.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link text-uppercase" href="#">Contáctanos</a></li>
                    <li class="nav-item"><a class="nav-link text-uppercase" href="#reporte">Como Hacer EL Reporte</a>
                    </li>
                    <li class="nav-item"><a class="nav-link text-uppercase" href="#">NOSOTROS</a></li>
                </ul>
                <div class="navbar-spacer"></div>
            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <h2>Reporte de Abuso</h2>
        <form id="form" name="sentMessage">
            <div class="mb-3">
                <label for="name" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="Ingrese su nombre" required>
            </div>
            <div class="mb-3">
                <label for="apellido" class="form-label">Apellido</label>
                <input type="text" class="form-control" id="apellido" name="apellido" placeholder="Ingrese su apellido" required>
            </div>
            <div class="mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="Ingrese su teléfono" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Correo</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Ingrese su correo" required>
                <input type="hidden" class="form-control" id="email2" name="email2" value="jackeline.apolinario@unas.edu.pe">
            </div>
            <div class="mb-3">
                <label for="agresor" class="form-label">Nombre/Apellido del Agresor</label>
                <input type="text" class="form-control" id="agresor" name="agresor" placeholder="Ingrese Agresor" required>
            </div>
            <div class="mb-3">
                <label for="message" class="form-label">Reporte</label>
                <textarea class="form-control" id="message" name="message" rows="4" placeholder="Describa su reporte" required></textarea>
            </div>
            <button type="submit" id="button" class="btn btn-primary">Enviar</button>
        </form>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    </div>


    <!--Envia el mensaje a correo electronico-->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>

    <!-- <script type="text/javascript">
        emailjs.init('8MU5hVzc-TV0Ey0rc')
        var subject = "SisAppEco"
        const phone = document.getElementById('phone');
        const btn = document.getElementById('button');

        document.getElementById('form')
            .addEventListener('submit', function (event) {
                event.preventDefault();

                btn.value = 'Enviando...';

                const serviceID = 'service_tm8fw28';
                const templateID = 'template_vmu4sir';

                emailjs.sendForm(serviceID, templateID, this)
                    .then(() => {
                        btn.value = 'Send Email';
                        alert('MIRA AL FINAL DE LA PAGINA')
                        var msj2 = '<center><div style="display: block;background-color: yellow;border: 5px ridge;text-align: center" id="mensajillo"><div style="font-size: 6vw;color: red;display: block;">Nos Pondremos en contacto!</div></div></center>'
                        $('body').append(msj2)

                        //alert('MUCHAS GRACIAS POR PARTICIPAR!');
                    }, (err) => {
                        btn.value = 'Send Email';
                        alert(JSON.stringify(err));
                    });
            });


    </script> -->
    <script type="text/javascript">
        // Inicializa EmailJS con tu User ID
        emailjs.init('8MU5hVzc-TV0Ey0rc'); // Reemplaza con tu User ID de EmailJS

        // Selecciona el botón y el formulario
        const btn = document.getElementById('button');
        const form = document.getElementById('form');

        // Agrega el evento de envío al formulario
        form.addEventListener('submit', function (event) {
            event.preventDefault(); // Evita el envío por defecto del formulario

            btn.innerText = 'Enviando...'; // Cambia el texto del botón mientras se envía

            // Configura tu Service ID y Template ID de EmailJS
            const serviceID = 'service_tm8fw28'; // Reemplaza con tu Service ID
            const templateID = 'template_vmu4sir'; // Reemplaza con tu Template ID

            // Envía el formulario con EmailJS
            emailjs.sendForm(serviceID, templateID, form)
                .then(() => {
                    btn.innerText = 'Enviar'; // Restaura el texto del botón
                    Swal.fire({
                        title: '¡Enviado!',
                        text: 'Tu reporte ha sido enviado exitosamente. Nos pondremos en contacto contigo pronto.',
                        icon: 'success',
                        confirmButtonText: 'Aceptar'
                    });
                    form.reset(); // Limpia el formulario después de enviarlo
                }, (err) => {
                    btn.innerText = 'Enviar'; // Restaura el texto del botón
                    Swal.fire({
                        title: 'Error',
                        text: 'Hubo un problema al enviar el formulario. Por favor, inténtalo de nuevo.',
                        icon: 'error',
                        confirmButtonText: 'Aceptar'
                    });
                    console.error('Error al enviar el formulario:', err);
                });
        });
    </script>

    <!-- Bootstrap 5 JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script>
        document.querySelector('#reporteForm').addEventListener('submit', function (event) {
            event.preventDefault();
            Swal.fire({
                title: '¡Formulario en desarrollo!',
                text: '¡SE ESTÁ PERFECCIONANDO EL FORMULARIO!',
                icon: 'info',
                confirmButtonText: 'Aceptar'
            });
        });
    </script>
</body>

</html>
